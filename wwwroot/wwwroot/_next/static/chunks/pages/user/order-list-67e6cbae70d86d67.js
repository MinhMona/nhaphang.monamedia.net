(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9338],{94593:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/order-list",function(){return c(26619)}])},26619:function(a,b,c){"use strict";c.r(b);var d=c(85893),e=c(28985),f=c(11163),g=c(67294),h=c(88767),i=c(25617),j=c(72132),k=c(48880),l=c(61474),m=c(93364),n=c(93702);function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}var q=function(){var a=(0,i.v9)(function(a){return a.userCurretnInfo}),b=(0,f.useRouter)().query,c=(0,g.useRef)("deposit"),n=(0,g.useState)({TypeSearch:null,SearchContent:null,TotalItems:null,PageIndex:1,PageSize:20,Status:null,FromDate:null,ToDate:null,UID:null==a?void 0:a.Id,OrderType:(null==b?void 0:b.q)==="3"?3:1}),o=n[0],q=n[1],r=(0,g.useState)(m.S6),s=r[0],t=r[1],u=(0,g.useCallback)(function(a){q(p({},o,a))},[]);(0,g.useEffect)(function(){q({TypeSearch:null,SearchContent:null,Status:null,FromDate:null,ToDate:null,PageIndex:1,PageSize:20,UID:null==a?void 0:a.Id,OrderType:(null==b?void 0:b.q)==="3"?3:1,TotalItems:null}),t(m.S6)},[null==b?void 0:b.q,null==a?void 0:a.Id]);var v=(0,h.useQuery)(["orderList",[o.ToDate,o.FromDate,o.OrderType,o.PageIndex,o.SearchContent,o.Status,o.UID,o.PageIndex]],function(){return k.CY.getList(o).then(function(a){return a.Data})},{onSuccess:function(a){return q(p({},o,{TotalItems:null==a?void 0:a.TotalItem,PageIndex:null==a?void 0:a.PageIndex,PageSize:null==a?void 0:a.PageSize}))},onError:function(a){var b,c,d;j.Am.error(null===(b=a)|| void 0===b?void 0:null===(c=b.response)|| void 0===c?void 0:null===(d=c.data)|| void 0===d?void 0:d.ResultMessage)},retry:!0,enabled:!!(null==a?void 0:a.Id),keepPreviousData:!0,staleTime:5000,refetchOnWindowFocus:!0}),w=v.data,x=v.isFetching;return v.refetch,(0,h.useQuery)(["main-order-amount",{OrderType:(null==b?void 0:b.q)==="3"?3:1}],function(){return k.CY.getMainOrderAmount({orderType:(null==b?void 0:b.q)==="3"?3:1})},{onSuccess:function(a){var b,c=a.Data;for(var d in c)b=d,s.forEach(function(a){a.key===b&&(a.value=c[b])});t(s)},onError:function(a){var b,c,d;j.Am.error(null===(b=a)|| void 0===b?void 0:null===(c=b.response)|| void 0===c?void 0:null===(d=c.data)|| void 0===d?void 0:d.ResultMessage)},enabled:!!(null==a?void 0:a.Id),staleTime:5000}),(0,h.useQuery)(["number-of-order",{UID:null==a?void 0:a.Id,orderType:(null==b?void 0:b.q)==="3"?3:1},],function(){return k.CY.getNumberOfOrder({UID:null==a?void 0:a.Id,orderType:(null==b?void 0:b.q)==="3"?3:1})},{onSuccess:function(a){var b=a.Data;null==b||b.forEach(function(a){var b=m.iM.find(function(b){return(null==b?void 0:b.id)===(null==a?void 0:a.Status)});b&&(b.value=null==a?void 0:a.Quantity)})},onError:function(a){var b,c,d;j.Am.error(null===(b=a)|| void 0===b?void 0:null===(c=b.response)|| void 0===c?void 0:null===(d=c.data)|| void 0===d?void 0:d.ResultMessage)},enabled:!!(null==a?void 0:a.Id),staleTime:5000}),(0,d.jsxs)(g.Fragment,{children:[(0,d.jsx)(l.chN,{data:null==w?void 0:w.Items,handleFilter:u,moneyOfOrders:s,loading:x,type:c,q:null==b?void 0:b.q}),(0,d.jsx)(e.Z,{total:null==o?void 0:o.TotalItems,current:null==o?void 0:o.PageIndex,pageSize:null==o?void 0:o.PageSize,onChange:function(a,b){return u(p({},o,{PageIndex:a,PageSize:b}))}})]})};q.displayName=n.W.buyGroceries.listOder,q.breadcrumb="Đơn h\xe0ng",q.Layout=l.rfd,b.default=q}},function(a){a.O(0,[675,296,3662,7570,7281,9930,9774,2888,179],function(){return a(a.s=94593)}),_N_E=a.O()}])