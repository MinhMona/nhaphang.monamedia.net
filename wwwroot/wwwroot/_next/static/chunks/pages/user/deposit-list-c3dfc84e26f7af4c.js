(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2631],{49336:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/deposit-list",function(){return c(66588)}])},66588:function(a,b,c){"use strict";c.r(b);var d=c(85893),e=c(67294),f=c(88767),g=c(25617),h=c(72132),i=c(48880),j=c(61474),k=c(12023),l=c(93364),m=c(93702),n=c(12954);function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}var q=function(){var a=(0,g.v9)(function(a){return a.userCurretnInfo}),b=(0,e.useState)({PageIndex:1,PageSize:20,TotalItems:null,TypeSearch:null,SearchContent:null,Status:null,FromDate:null,ToDate:null,UID:null==a?void 0:a.Id,OrderBy:"Id desc"}),c=b[0],k=b[1],m=(0,e.useState)([]),o=m[0],q=m[1],r=(0,e.useRef)(!1),s=(0,e.useRef)(),t=(0,e.useState)(!1),u=t[0],v=t[1],w=(0,e.useState)(l.XF),x=w[0],y=w[1],z=(0,e.useCallback)(function(a){k(p({},c,a))},[]),A=(0,f.useQuery)(["userDepositList",[c.PageIndex,c.TypeSearch,c.Status,c.FromDate,c.ToDate,c.SearchContent,],],function(){return i.V8.getList(c).then(function(a){return a.Data})},{keepPreviousData:!0,refetchOnWindowFocus:!1,staleTime:5000,onSuccess:function(a){return k(p({},c,{TotalItems:null==a?void 0:a.TotalItem,PageIndex:null==a?void 0:a.PageIndex,PageSize:null==a?void 0:a.PageSize}))},onError:function(a){var b,c,d;h.Am.error(null===(b=a)|| void 0===b?void 0:null===(c=b.response)|| void 0===c?void 0:null===(d=c.data)|| void 0===d?void 0:d.ResultMessage)},enabled:!!(null==a?void 0:a.Id)}),B=A.isFetching,C=A.data;return(0,f.useQuery)(["deposit-amount-list"],function(){return i.V8.getAmountList()},{onSuccess:function(a){var b,c=a.Data;for(var d in c)b=d,x.forEach(function(a){a.key===b&&(a.value=n.Jy.getVND(c[b]," "))});y(x)},onError:function(a){var b,c,d;h.Am.error(null===(b=a)|| void 0===b?void 0:null===(c=b.response)|| void 0===c?void 0:null===(d=c.data)|| void 0===d?void 0:d.ResultMessage)},retry:!1,enabled:!!(null==a?void 0:a.Id),refetchOnWindowFocus:!1}),(0,f.useQuery)(["deposit-infor-list"],function(){return i.V8.getAmountInfo({UID:null==a?void 0:a.Id})},{onSuccess:function(a){var b=a.Data;null==b||b.forEach(function(a){var b=l.b5.find(function(b){return b.id===(null==a?void 0:a.Status)});b&&(b.value=null==a?void 0:a.Quantity)})},onError:function(a){var b,c,d;h.Am.error(null===(b=a)|| void 0===b?void 0:null===(c=b.response)|| void 0===c?void 0:null===(d=c.data)|| void 0===d?void 0:d.ResultMessage)},retry:!1,enabled:!!(null==a?void 0:a.Id),refetchOnWindowFocus:!1}),(0,d.jsx)(j.w3J,{loading:B,data:null==C?void 0:C.Items,handleModal:function(a){s.current=void 0===a?void 0:a,v(!u)},handleSelectIds:function(a){if(o.find(function(b){return b===a.Id}))q(o.filter(function(b){return b!==a.Id}));else{var b;q(((function(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}})(b=o)||(function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)})(b)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()).concat([a.Id]))}r.current=!1},filter:c,handleFilter:z,moneyOfOrders:x,ids:!!o.length})};q.displayName=m.W.consignmentShipping.listOderDeposit,q.Layout=j.rfd,q.breadcrumb=k.m.deposit.depositList.main,b.default=q}},function(a){a.O(0,[675,296,3662,7570,7281,9930,9774,2888,179],function(){return a(a.s=49336)}),_N_E=a.O()}])